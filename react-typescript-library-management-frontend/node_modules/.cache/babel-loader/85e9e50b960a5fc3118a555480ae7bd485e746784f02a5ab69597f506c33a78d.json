{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactProjects\\\\react-typescript-library-management\\\\src\\\\layouts\\\\BookCheckoutPage\\\\BookCheckoutPage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { SpinnerLoading } from \"../Utils/SpinnerLoading\";\nimport { StarsReview } from \"../Utils/StarsReview\";\nimport { CheckoutAndReviewBox } from \"./CheckoutAndReviewBox\";\nimport { LatestReviews } from \"./LatestReviews\";\nimport ReviewRequest from \"../../models/reviewRequest\";\nimport { BOOK_BASE_URL, CHECKOUT_BASE_URL, REVIEW_BASE_URL } from \"../../commons/constants\";\nimport { AuthHeader } from \"../../services/base.service\";\nimport authenticationService from \"../../services/authentication.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BookCheckoutPage = () => {\n  _s();\n  const currentSignInUser = authenticationService.getCurrentUser();\n  const [book, setBook] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [httpError, setHttpError] = useState(null);\n\n  // Review State\n  const [reviews, setReviews] = useState([]);\n  const [totalStars, setTotalStars] = useState(0);\n  const [isLoadingReview, setIsLoadingReview] = useState(true);\n  const [isReviewLeft, setIsReviewLeft] = useState(false);\n  const [isLoadingUserReview, setIsLoadingUserReview] = useState(true);\n\n  // Loans Count State\n  const [currentLoansCount, setCurrentLoansCount] = useState(0);\n  const [isLoadingCurrentLoansCount, setIsLoadingCurrentLoansCount] = useState(true);\n\n  // Is Book Check Out?\n  const [isCheckedOut, setIsCheckedOut] = useState(false);\n  const [isLoadingBookCheckedOut, setIsLoadingBookCheckedOut] = useState(true);\n  const bookId = window.location.pathname.split(\"/\")[2];\n  useEffect(() => {\n    const fetchBooks = async () => {\n      const checkoutUrl = BOOK_BASE_URL + `/service/getById?bookId=${bookId}`;\n      const response = await fetch(checkoutUrl);\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n      const responseJson = await response.json();\n      const loadedBooks = {\n        bookId: responseJson.bookId,\n        bookTitle: responseJson.bookTitle,\n        bookAuthor: responseJson.bookAuthor,\n        bookDescription: responseJson.bookDescription,\n        copies: responseJson.copies,\n        copiesAvailable: responseJson.copiesAvailable,\n        bookCategory: responseJson.bookCategory,\n        bookImage: responseJson.bookImage\n      };\n      setBook(loadedBooks);\n      setIsLoading(false);\n    };\n    fetchBooks().catch(error => {\n      setIsLoading(false);\n      setHttpError(error.message);\n    });\n  }, [bookId, isCheckedOut]);\n  useEffect(() => {\n    const fetchBookReviews = async () => {\n      const reviewUrl = REVIEW_BASE_URL + `/service/getByBookId/pageWise?bookId=${bookId}&page=0&size=5`;\n      const response = await fetch(reviewUrl);\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n      const responseJson = await response.json();\n      const responseReviewsData = responseJson.content;\n      const loadedReviews = [];\n      let weightedStarReviews = 0;\n      for (const key in responseReviewsData) {\n        loadedReviews.push({\n          reviewId: responseReviewsData[key].reviewId,\n          userEmail: responseReviewsData[key].userEmail,\n          date: responseReviewsData[key].date,\n          rating: responseReviewsData[key].rating,\n          bookId: responseReviewsData[key].bookId,\n          reviewDescription: responseReviewsData[key].reviewDescription\n        });\n        weightedStarReviews = weightedStarReviews + responseReviewsData[key].rating;\n      }\n      if (loadedReviews) {\n        const RoundStarReviews = (Math.round(weightedStarReviews / loadedReviews.length * 2) / 2).toFixed(1);\n        setTotalStars(Number(RoundStarReviews));\n      }\n      setReviews(loadedReviews);\n      setIsLoadingReview(false);\n    };\n    fetchBookReviews().catch(error => {\n      setIsLoadingReview(false);\n      setHttpError(error.message);\n    });\n  }, [bookId, isReviewLeft]);\n  useEffect(() => {\n    const fetchUserCurrentLoansCount = async () => {\n      if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId) {\n        const currentLoansCountUrl = CHECKOUT_BASE_URL + `/service/currentLoansCount`;\n        const currentLoansCountRequestOptions = {\n          method: \"GET\",\n          headers: AuthHeader()\n        };\n        const currentLoansCountResponse = await fetch(currentLoansCountUrl, currentLoansCountRequestOptions);\n        if (!currentLoansCountResponse.ok) {\n          throw new Error(\"Something Went Wrong\");\n        }\n        const currentLoansCountResponseJson = await currentLoansCountResponse.json();\n        setCurrentLoansCount(currentLoansCountResponseJson);\n      }\n      setIsLoadingCurrentLoansCount(false);\n    };\n    fetchUserCurrentLoansCount().catch(error => {\n      setIsLoadingCurrentLoansCount(false);\n      setHttpError(error.message);\n    });\n  }, [currentSignInUser, isCheckedOut]);\n  useEffect(() => {\n    const fetchUserCheckedOutBook = async () => {\n      if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId) {\n        const userBookCheckOutUrl = CHECKOUT_BASE_URL + `/service/isBookCheckedOutByUser?bookId=${bookId}`;\n        const userBookCheckoutRequestOptions = {\n          method: \"GET\",\n          headers: AuthHeader()\n        };\n        const userBookCheckoutResponse = await fetch(userBookCheckOutUrl, userBookCheckoutRequestOptions);\n        if (!userBookCheckoutResponse.ok) {\n          throw new Error(\"Something Went Wrong\");\n        }\n        const userBookCheckoutResponseJson = await userBookCheckoutResponse.json();\n        setIsCheckedOut(userBookCheckoutResponseJson);\n      }\n      setIsLoadingBookCheckedOut(false);\n    };\n    fetchUserCheckedOutBook().catch(error => {\n      setIsLoadingBookCheckedOut(false);\n      setHttpError(error.message);\n    });\n  }, [bookId, currentSignInUser]);\n  useEffect(() => {\n    const fetchUserReviewOnBook = async () => {\n      if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId) {\n        const userBookReviewUrl = REVIEW_BASE_URL + `/service/getByBookId/pageWise?bookId=${bookId}&&page=0&&size=5`;\n        const userBookReviewRequestOptions = {\n          method: \"GET\",\n          headers: AuthHeader()\n        };\n        const userBookReviewResponse = await fetch(userBookReviewUrl, userBookReviewRequestOptions);\n        if (!userBookReviewResponse.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n        const userBookReviewResponseJson = await userBookReviewResponse.json();\n        setIsReviewLeft(userBookReviewResponseJson.content);\n      }\n      setIsLoadingUserReview(false);\n    };\n    fetchUserReviewOnBook().catch(error => {\n      setIsLoadingUserReview(false);\n      setHttpError(error.message);\n    });\n  }, [bookId, currentSignInUser]);\n  if (isLoading || isLoadingReview || isLoadingCurrentLoansCount || isLoadingBookCheckedOut || isLoadingUserReview) {\n    return /*#__PURE__*/_jsxDEV(SpinnerLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 12\n    }, this);\n  }\n  if (httpError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container m-5\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: httpError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this);\n  }\n  async function checkOutBook() {\n    const userBookCheckOutUrl = CHECKOUT_BASE_URL + `/service/bookCheckout?bookId=${bookId}`;\n    const userBookCheckoutRequestOptions = {\n      method: \"PUT\",\n      headers: AuthHeader()\n    };\n    const userBookCheckoutResponse = await fetch(userBookCheckOutUrl, userBookCheckoutRequestOptions);\n    if (!userBookCheckoutResponse.ok) {\n      throw new Error(\"Something Went Wrong\");\n    }\n    setIsCheckedOut(true);\n  }\n  async function submitBookReview(starInput, reviewDescription) {\n    let bookId = 0;\n    if (book !== null && book !== void 0 && book.bookId) {\n      bookId = book.bookId;\n    }\n    const reviewRequestModel = new ReviewRequest(starInput, bookId, reviewDescription);\n    const postReviewUrl = REVIEW_BASE_URL + `service/save`;\n    const postReviewRequestOptions = {\n      method: \"POST\",\n      header: AuthHeader(),\n      body: JSON.stringify(reviewRequestModel)\n    };\n    const returnPostReviewResponse = await fetch(postReviewUrl, postReviewRequestOptions);\n    if (!returnPostReviewResponse.ok) {\n      throw new Error(\"Something went wrong\");\n    }\n    setIsReviewLeft(true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-none d-lg-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-2 col-md-2\",\n          children: book !== null && book !== void 0 && book.bookImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: book === null || book === void 0 ? void 0 : book.bookImage,\n            width: \"226\",\n            height: \"349\",\n            alt: \"Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: require(\"./../../Images/BooksImages/book-luv2code-1000.png\"),\n            width: \"226\",\n            height: \"349\",\n            alt: \"Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4 col-md-4 container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: book === null || book === void 0 ? void 0 : book.bookTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-primary\",\n              children: book === null || book === void 0 ? void 0 : book.bookAuthor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"lead\",\n              children: book === null || book === void 0 ? void 0 : book.bookDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StarsReview, {\n              rating: totalStars,\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CheckoutAndReviewBox, {\n          book: book,\n          mobile: false,\n          currentLoansCount: currentLoansCount,\n          isAuthenticated: currentSignInUser === null || currentSignInUser === void 0 ? void 0 : currentSignInUser.userId,\n          isBookCheckedOut: isCheckedOut,\n          checkOutBook: checkOutBook,\n          isUserReviewLeft: isReviewLeft,\n          submitBookReview: submitBookReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LatestReviews, {\n        latestBookReviews: reviews,\n        bookId: book === null || book === void 0 ? void 0 : book.bookId,\n        mobile: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-lg-none mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center align-items-center\",\n        children: book !== null && book !== void 0 && book.bookImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: book === null || book === void 0 ? void 0 : book.bookImage,\n          width: \"226\",\n          height: \"349\",\n          alt: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: require(\"./../../Images/BooksImages/book-luv2code-1000.png\"),\n          width: \"226\",\n          height: \"349\",\n          alt: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: book === null || book === void 0 ? void 0 : book.bookTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-primary\",\n            children: book === null || book === void 0 ? void 0 : book.bookAuthor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: book === null || book === void 0 ? void 0 : book.bookDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StarsReview, {\n            rating: 4.5,\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CheckoutAndReviewBox, {\n        book: book,\n        mobile: false,\n        currentLoansCount: currentLoansCount,\n        isAuthenticated: currentSignInUser === null || currentSignInUser === void 0 ? void 0 : currentSignInUser.userId,\n        isBookCheckedOut: isCheckedOut,\n        checkOutBook: checkOutBook,\n        isUserReviewLeft: isReviewLeft,\n        submitBookReview: submitBookReview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LatestReviews, {\n        latestBookReviews: reviews,\n        bookId: book === null || book === void 0 ? void 0 : book.bookId,\n        mobile: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCheckoutPage, \"ksD6MD8vsidsvvT0QZrX/e+/MSU=\");\n_c = BookCheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"BookCheckoutPage\");","map":{"version":3,"names":["useEffect","useState","SpinnerLoading","StarsReview","CheckoutAndReviewBox","LatestReviews","ReviewRequest","BOOK_BASE_URL","CHECKOUT_BASE_URL","REVIEW_BASE_URL","AuthHeader","authenticationService","BookCheckoutPage","currentSignInUser","getCurrentUser","book","setBook","isLoading","setIsLoading","httpError","setHttpError","reviews","setReviews","totalStars","setTotalStars","isLoadingReview","setIsLoadingReview","isReviewLeft","setIsReviewLeft","isLoadingUserReview","setIsLoadingUserReview","currentLoansCount","setCurrentLoansCount","isLoadingCurrentLoansCount","setIsLoadingCurrentLoansCount","isCheckedOut","setIsCheckedOut","isLoadingBookCheckedOut","setIsLoadingBookCheckedOut","bookId","window","location","pathname","split","fetchBooks","checkoutUrl","response","fetch","ok","Error","responseJson","json","loadedBooks","bookTitle","bookAuthor","bookDescription","copies","copiesAvailable","bookCategory","bookImage","catch","error","message","fetchBookReviews","reviewUrl","responseReviewsData","content","loadedReviews","weightedStarReviews","key","push","reviewId","userEmail","date","rating","reviewDescription","RoundStarReviews","Math","round","length","toFixed","Number","fetchUserCurrentLoansCount","userId","currentLoansCountUrl","currentLoansCountRequestOptions","method","headers","currentLoansCountResponse","currentLoansCountResponseJson","fetchUserCheckedOutBook","userBookCheckOutUrl","userBookCheckoutRequestOptions","userBookCheckoutResponse","userBookCheckoutResponseJson","fetchUserReviewOnBook","userBookReviewUrl","userBookReviewRequestOptions","userBookReviewResponse","userBookReviewResponseJson","checkOutBook","submitBookReview","starInput","reviewRequestModel","postReviewUrl","postReviewRequestOptions","header","body","JSON","stringify","returnPostReviewResponse","require"],"sources":["D:/ReactProjects/react-typescript-library-management/src/layouts/BookCheckoutPage/BookCheckoutPage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Books from \"../../models/booksEntity\";\r\nimport { SpinnerLoading } from \"../Utils/SpinnerLoading\";\r\nimport { StarsReview } from \"../Utils/StarsReview\";\r\nimport { CheckoutAndReviewBox } from \"./CheckoutAndReviewBox\";\r\nimport Review from \"../../models/reviewEntity\";\r\nimport { LatestReviews } from \"./LatestReviews\";\r\nimport ReviewRequest from \"../../models/reviewRequest\";\r\nimport {\r\n  BOOK_BASE_URL,\r\n  CHECKOUT_BASE_URL,\r\n  REVIEW_BASE_URL,\r\n} from \"../../commons/constants\";\r\nimport { AuthHeader } from \"../../services/base.service\";\r\nimport { useSelector } from \"react-redux\";\r\nimport authenticationService from \"../../services/authentication.service\";\r\n\r\nexport const BookCheckoutPage = () => {\r\n  const currentSignInUser = authenticationService.getCurrentUser();\r\n  const [book, setBook] = useState<Books>();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState(null);\r\n\r\n  // Review State\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [totalStars, setTotalStars] = useState(0);\r\n  const [isLoadingReview, setIsLoadingReview] = useState(true);\r\n\r\n  const [isReviewLeft, setIsReviewLeft] = useState(false);\r\n  const [isLoadingUserReview, setIsLoadingUserReview] = useState(true);\r\n\r\n  // Loans Count State\r\n  const [currentLoansCount, setCurrentLoansCount] = useState(0);\r\n  const [isLoadingCurrentLoansCount, setIsLoadingCurrentLoansCount] =\r\n    useState(true);\r\n\r\n  // Is Book Check Out?\r\n  const [isCheckedOut, setIsCheckedOut] = useState(false);\r\n  const [isLoadingBookCheckedOut, setIsLoadingBookCheckedOut] = useState(true);\r\n\r\n  const bookId = window.location.pathname.split(\"/\")[2];\r\n\r\n  useEffect(() => {\r\n    const fetchBooks = async () => {\r\n      const checkoutUrl: string =\r\n        BOOK_BASE_URL + `/service/getById?bookId=${bookId}`;\r\n\r\n      const response = await fetch(checkoutUrl);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n\r\n      const responseJson = await response.json();\r\n\r\n      const loadedBooks: Books = {\r\n        bookId: responseJson.bookId,\r\n        bookTitle: responseJson.bookTitle,\r\n        bookAuthor: responseJson.bookAuthor,\r\n        bookDescription: responseJson.bookDescription,\r\n        copies: responseJson.copies,\r\n        copiesAvailable: responseJson.copiesAvailable,\r\n        bookCategory: responseJson.bookCategory,\r\n        bookImage: responseJson.bookImage,\r\n      };\r\n\r\n      setBook(loadedBooks);\r\n      setIsLoading(false);\r\n    };\r\n    fetchBooks().catch((error: any) => {\r\n      setIsLoading(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [bookId, isCheckedOut]);\r\n\r\n  useEffect(() => {\r\n    const fetchBookReviews = async () => {\r\n      const reviewUrl: string =\r\n        REVIEW_BASE_URL +\r\n        `/service/getByBookId/pageWise?bookId=${bookId}&page=0&size=5`;\r\n\r\n      const response = await fetch(reviewUrl);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n\r\n      const responseJson = await response.json();\r\n\r\n      const responseReviewsData = responseJson.content;\r\n\r\n      const loadedReviews: Review[] = [];\r\n\r\n      let weightedStarReviews: number = 0;\r\n\r\n      for (const key in responseReviewsData) {\r\n        loadedReviews.push({\r\n          reviewId: responseReviewsData[key].reviewId,\r\n          userEmail: responseReviewsData[key].userEmail,\r\n          date: responseReviewsData[key].date,\r\n          rating: responseReviewsData[key].rating,\r\n          bookId: responseReviewsData[key].bookId,\r\n          reviewDescription: responseReviewsData[key].reviewDescription,\r\n        });\r\n\r\n        weightedStarReviews =\r\n          weightedStarReviews + responseReviewsData[key].rating;\r\n      }\r\n\r\n      if (loadedReviews) {\r\n        const RoundStarReviews = (\r\n          Math.round((weightedStarReviews / loadedReviews.length) * 2) / 2\r\n        ).toFixed(1);\r\n        setTotalStars(Number(RoundStarReviews));\r\n      }\r\n\r\n      setReviews(loadedReviews);\r\n      setIsLoadingReview(false);\r\n    };\r\n\r\n    fetchBookReviews().catch((error: any) => {\r\n      setIsLoadingReview(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [bookId, isReviewLeft]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserCurrentLoansCount = async () => {\r\n      if (currentSignInUser && currentSignInUser?.userId) {\r\n        const currentLoansCountUrl =\r\n          CHECKOUT_BASE_URL + `/service/currentLoansCount`;\r\n        const currentLoansCountRequestOptions = {\r\n          method: \"GET\",\r\n          headers: AuthHeader(),\r\n        };\r\n\r\n        const currentLoansCountResponse = await fetch(\r\n          currentLoansCountUrl,\r\n          currentLoansCountRequestOptions\r\n        );\r\n\r\n        if (!currentLoansCountResponse.ok) {\r\n          throw new Error(\"Something Went Wrong\");\r\n        }\r\n\r\n        const currentLoansCountResponseJson =\r\n          await currentLoansCountResponse.json();\r\n        setCurrentLoansCount(currentLoansCountResponseJson);\r\n      }\r\n      setIsLoadingCurrentLoansCount(false);\r\n    };\r\n\r\n    fetchUserCurrentLoansCount().catch((error: any) => {\r\n      setIsLoadingCurrentLoansCount(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [currentSignInUser, isCheckedOut]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserCheckedOutBook = async () => {\r\n      if (currentSignInUser && currentSignInUser?.userId) {\r\n        const userBookCheckOutUrl =\r\n          CHECKOUT_BASE_URL +\r\n          `/service/isBookCheckedOutByUser?bookId=${bookId}`;\r\n        const userBookCheckoutRequestOptions = {\r\n          method: \"GET\",\r\n          headers: AuthHeader(),\r\n        };\r\n\r\n        const userBookCheckoutResponse = await fetch(\r\n          userBookCheckOutUrl,\r\n          userBookCheckoutRequestOptions\r\n        );\r\n\r\n        if (!userBookCheckoutResponse.ok) {\r\n          throw new Error(\"Something Went Wrong\");\r\n        }\r\n\r\n        const userBookCheckoutResponseJson =\r\n          await userBookCheckoutResponse.json();\r\n        setIsCheckedOut(userBookCheckoutResponseJson);\r\n      }\r\n      setIsLoadingBookCheckedOut(false);\r\n    };\r\n    fetchUserCheckedOutBook().catch((error: any) => {\r\n      setIsLoadingBookCheckedOut(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [bookId, currentSignInUser]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserReviewOnBook = async () => {\r\n      if (currentSignInUser && currentSignInUser?.userId) {\r\n        const userBookReviewUrl =\r\n          REVIEW_BASE_URL +\r\n          `/service/getByBookId/pageWise?bookId=${bookId}&&page=0&&size=5`;\r\n        const userBookReviewRequestOptions = {\r\n          method: \"GET\",\r\n          headers: AuthHeader(),\r\n        };\r\n        const userBookReviewResponse = await fetch(\r\n          userBookReviewUrl,\r\n          userBookReviewRequestOptions\r\n        );\r\n        if (!userBookReviewResponse.ok) {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n        const userBookReviewResponseJson = await userBookReviewResponse.json();\r\n        setIsReviewLeft(userBookReviewResponseJson.content);\r\n      }\r\n      setIsLoadingUserReview(false);\r\n    };\r\n    fetchUserReviewOnBook().catch((error: any) => {\r\n      setIsLoadingUserReview(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [bookId, currentSignInUser]);\r\n\r\n  if (\r\n    isLoading ||\r\n    isLoadingReview ||\r\n    isLoadingCurrentLoansCount ||\r\n    isLoadingBookCheckedOut ||\r\n    isLoadingUserReview\r\n  ) {\r\n    return <SpinnerLoading />;\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <div className=\"container m-5\">\r\n        <p>{httpError}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async function checkOutBook() {\r\n    const userBookCheckOutUrl =\r\n      CHECKOUT_BASE_URL + `/service/bookCheckout?bookId=${bookId}`;\r\n    const userBookCheckoutRequestOptions = {\r\n      method: \"PUT\",\r\n      headers: AuthHeader(),\r\n    };\r\n\r\n    const userBookCheckoutResponse = await fetch(\r\n      userBookCheckOutUrl,\r\n      userBookCheckoutRequestOptions\r\n    );\r\n\r\n    if (!userBookCheckoutResponse.ok) {\r\n      throw new Error(\"Something Went Wrong\");\r\n    }\r\n    setIsCheckedOut(true);\r\n  }\r\n\r\n  async function submitBookReview(\r\n    starInput: number,\r\n    reviewDescription: string\r\n  ) {\r\n    let bookId: number = 0;\r\n    if (book?.bookId) {\r\n      bookId = book.bookId;\r\n    }\r\n\r\n    const reviewRequestModel = new ReviewRequest(\r\n      starInput,\r\n      bookId,\r\n      reviewDescription\r\n    );\r\n    const postReviewUrl = REVIEW_BASE_URL + `service/save`;\r\n    const postReviewRequestOptions = {\r\n      method: \"POST\",\r\n      header: AuthHeader(),\r\n      body: JSON.stringify(reviewRequestModel),\r\n    };\r\n    const returnPostReviewResponse = await fetch(\r\n      postReviewUrl,\r\n      postReviewRequestOptions\r\n    );\r\n    if (!returnPostReviewResponse.ok) {\r\n      throw new Error(\"Something went wrong\");\r\n    }\r\n    setIsReviewLeft(true);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container d-none d-lg-block\">\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-sm-2 col-md-2\">\r\n            {book?.bookImage ? (\r\n              <img src={book?.bookImage} width=\"226\" height=\"349\" alt=\"Book\" />\r\n            ) : (\r\n              <img\r\n                src={require(\"./../../Images/BooksImages/book-luv2code-1000.png\")}\r\n                width=\"226\"\r\n                height=\"349\"\r\n                alt=\"Book\"\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"col-4 col-md-4 container\">\r\n            <div className=\"ml-2\">\r\n              <h2>{book?.bookTitle}</h2>\r\n              <h5 className=\"text-primary\">{book?.bookAuthor}</h5>\r\n              <p className=\"lead\">{book?.bookDescription}</p>\r\n              <StarsReview rating={totalStars} size={32} />\r\n            </div>\r\n          </div>\r\n          <CheckoutAndReviewBox\r\n            book={book}\r\n            mobile={false}\r\n            currentLoansCount={currentLoansCount}\r\n            isAuthenticated={currentSignInUser?.userId}\r\n            isBookCheckedOut={isCheckedOut}\r\n            checkOutBook={checkOutBook}\r\n            isUserReviewLeft={isReviewLeft}\r\n            submitBookReview={submitBookReview}\r\n          />\r\n        </div>\r\n        <hr />\r\n        <LatestReviews\r\n          latestBookReviews={reviews}\r\n          bookId={book?.bookId}\r\n          mobile={false}\r\n        />\r\n      </div>\r\n      <div className=\"container d-lg-none mt-5\">\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n          {book?.bookImage ? (\r\n            <img src={book?.bookImage} width=\"226\" height=\"349\" alt=\"Book\" />\r\n          ) : (\r\n            <img\r\n              src={require(\"./../../Images/BooksImages/book-luv2code-1000.png\")}\r\n              width=\"226\"\r\n              height=\"349\"\r\n              alt=\"Book\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <div className=\"ml-2\">\r\n            <h2>{book?.bookTitle}</h2>\r\n            <h5 className=\"text-primary\">{book?.bookAuthor}</h5>\r\n            <p className=\"lead\">{book?.bookDescription}</p>\r\n            <StarsReview rating={4.5} size={32} />\r\n          </div>\r\n        </div>\r\n        <CheckoutAndReviewBox\r\n          book={book}\r\n          mobile={false}\r\n          currentLoansCount={currentLoansCount}\r\n          isAuthenticated={currentSignInUser?.userId}\r\n          isBookCheckedOut={isCheckedOut}\r\n          checkOutBook={checkOutBook}\r\n          isUserReviewLeft={isReviewLeft}\r\n          submitBookReview={submitBookReview}\r\n        />\r\n        <hr />\r\n        <LatestReviews\r\n          latestBookReviews={reviews}\r\n          bookId={book?.bookId}\r\n          mobile={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,cAAc,QAAQ,yBAAyB;AACxD,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,oBAAoB,QAAQ,wBAAwB;AAE7D,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,OAAOC,aAAa,MAAM,4BAA4B;AACtD,SACEC,aAAa,EACbC,iBAAiB,EACjBC,eAAe,QACV,yBAAyB;AAChC,SAASC,UAAU,QAAQ,6BAA6B;AAExD,OAAOC,qBAAqB,MAAM,uCAAuC;AAAC;AAE1E,OAAO,MAAMC,gBAAgB,GAAG,MAAM;EAAA;EACpC,MAAMC,iBAAiB,GAAGF,qBAAqB,CAACG,cAAc,EAAE;EAChE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,EAAS;EACzC,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;;EAEhD;EACA,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAW,EAAE,CAAC;EACpD,MAAM,CAACsB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACwB,eAAe,EAAEC,kBAAkB,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAE5D,MAAM,CAAC0B,YAAY,EAAEC,eAAe,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC4B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;;EAEpE;EACA,MAAM,CAAC8B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG/B,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACgC,0BAA0B,EAAEC,6BAA6B,CAAC,GAC/DjC,QAAQ,CAAC,IAAI,CAAC;;EAEhB;EACA,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACoC,uBAAuB,EAAEC,0BAA0B,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAE5E,MAAMsC,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAErD3C,SAAS,CAAC,MAAM;IACd,MAAM4C,UAAU,GAAG,YAAY;MAC7B,MAAMC,WAAmB,GACvBtC,aAAa,GAAI,2BAA0BgC,MAAO,EAAC;MAErD,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACF,WAAW,CAAC;MAEzC,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MAEA,MAAMC,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAE1C,MAAMC,WAAkB,GAAG;QACzBb,MAAM,EAAEW,YAAY,CAACX,MAAM;QAC3Bc,SAAS,EAAEH,YAAY,CAACG,SAAS;QACjCC,UAAU,EAAEJ,YAAY,CAACI,UAAU;QACnCC,eAAe,EAAEL,YAAY,CAACK,eAAe;QAC7CC,MAAM,EAAEN,YAAY,CAACM,MAAM;QAC3BC,eAAe,EAAEP,YAAY,CAACO,eAAe;QAC7CC,YAAY,EAAER,YAAY,CAACQ,YAAY;QACvCC,SAAS,EAAET,YAAY,CAACS;MAC1B,CAAC;MAED3C,OAAO,CAACoC,WAAW,CAAC;MACpBlC,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IACD0B,UAAU,EAAE,CAACgB,KAAK,CAAEC,KAAU,IAAK;MACjC3C,YAAY,CAAC,KAAK,CAAC;MACnBE,YAAY,CAACyC,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvB,MAAM,EAAEJ,YAAY,CAAC,CAAC;EAE1BnC,SAAS,CAAC,MAAM;IACd,MAAM+D,gBAAgB,GAAG,YAAY;MACnC,MAAMC,SAAiB,GACrBvD,eAAe,GACd,wCAAuC8B,MAAO,gBAAe;MAEhE,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACiB,SAAS,CAAC;MAEvC,IAAI,CAAClB,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MAEA,MAAMC,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAE1C,MAAMc,mBAAmB,GAAGf,YAAY,CAACgB,OAAO;MAEhD,MAAMC,aAAuB,GAAG,EAAE;MAElC,IAAIC,mBAA2B,GAAG,CAAC;MAEnC,KAAK,MAAMC,GAAG,IAAIJ,mBAAmB,EAAE;QACrCE,aAAa,CAACG,IAAI,CAAC;UACjBC,QAAQ,EAAEN,mBAAmB,CAACI,GAAG,CAAC,CAACE,QAAQ;UAC3CC,SAAS,EAAEP,mBAAmB,CAACI,GAAG,CAAC,CAACG,SAAS;UAC7CC,IAAI,EAAER,mBAAmB,CAACI,GAAG,CAAC,CAACI,IAAI;UACnCC,MAAM,EAAET,mBAAmB,CAACI,GAAG,CAAC,CAACK,MAAM;UACvCnC,MAAM,EAAE0B,mBAAmB,CAACI,GAAG,CAAC,CAAC9B,MAAM;UACvCoC,iBAAiB,EAAEV,mBAAmB,CAACI,GAAG,CAAC,CAACM;QAC9C,CAAC,CAAC;QAEFP,mBAAmB,GACjBA,mBAAmB,GAAGH,mBAAmB,CAACI,GAAG,CAAC,CAACK,MAAM;MACzD;MAEA,IAAIP,aAAa,EAAE;QACjB,MAAMS,gBAAgB,GAAG,CACvBC,IAAI,CAACC,KAAK,CAAEV,mBAAmB,GAAGD,aAAa,CAACY,MAAM,GAAI,CAAC,CAAC,GAAG,CAAC,EAChEC,OAAO,CAAC,CAAC,CAAC;QACZxD,aAAa,CAACyD,MAAM,CAACL,gBAAgB,CAAC,CAAC;MACzC;MAEAtD,UAAU,CAAC6C,aAAa,CAAC;MACzBzC,kBAAkB,CAAC,KAAK,CAAC;IAC3B,CAAC;IAEDqC,gBAAgB,EAAE,CAACH,KAAK,CAAEC,KAAU,IAAK;MACvCnC,kBAAkB,CAAC,KAAK,CAAC;MACzBN,YAAY,CAACyC,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvB,MAAM,EAAEZ,YAAY,CAAC,CAAC;EAE1B3B,SAAS,CAAC,MAAM;IACd,MAAMkF,0BAA0B,GAAG,YAAY;MAC7C,IAAIrE,iBAAiB,IAAIA,iBAAiB,aAAjBA,iBAAiB,eAAjBA,iBAAiB,CAAEsE,MAAM,EAAE;QAClD,MAAMC,oBAAoB,GACxB5E,iBAAiB,GAAI,4BAA2B;QAClD,MAAM6E,+BAA+B,GAAG;UACtCC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE7E,UAAU;QACrB,CAAC;QAED,MAAM8E,yBAAyB,GAAG,MAAMzC,KAAK,CAC3CqC,oBAAoB,EACpBC,+BAA+B,CAChC;QAED,IAAI,CAACG,yBAAyB,CAACxC,EAAE,EAAE;UACjC,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;QACzC;QAEA,MAAMwC,6BAA6B,GACjC,MAAMD,yBAAyB,CAACrC,IAAI,EAAE;QACxCnB,oBAAoB,CAACyD,6BAA6B,CAAC;MACrD;MACAvD,6BAA6B,CAAC,KAAK,CAAC;IACtC,CAAC;IAEDgD,0BAA0B,EAAE,CAACtB,KAAK,CAAEC,KAAU,IAAK;MACjD3B,6BAA6B,CAAC,KAAK,CAAC;MACpCd,YAAY,CAACyC,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACjD,iBAAiB,EAAEsB,YAAY,CAAC,CAAC;EAErCnC,SAAS,CAAC,MAAM;IACd,MAAM0F,uBAAuB,GAAG,YAAY;MAC1C,IAAI7E,iBAAiB,IAAIA,iBAAiB,aAAjBA,iBAAiB,eAAjBA,iBAAiB,CAAEsE,MAAM,EAAE;QAClD,MAAMQ,mBAAmB,GACvBnF,iBAAiB,GAChB,0CAAyC+B,MAAO,EAAC;QACpD,MAAMqD,8BAA8B,GAAG;UACrCN,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE7E,UAAU;QACrB,CAAC;QAED,MAAMmF,wBAAwB,GAAG,MAAM9C,KAAK,CAC1C4C,mBAAmB,EACnBC,8BAA8B,CAC/B;QAED,IAAI,CAACC,wBAAwB,CAAC7C,EAAE,EAAE;UAChC,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;QACzC;QAEA,MAAM6C,4BAA4B,GAChC,MAAMD,wBAAwB,CAAC1C,IAAI,EAAE;QACvCf,eAAe,CAAC0D,4BAA4B,CAAC;MAC/C;MACAxD,0BAA0B,CAAC,KAAK,CAAC;IACnC,CAAC;IACDoD,uBAAuB,EAAE,CAAC9B,KAAK,CAAEC,KAAU,IAAK;MAC9CvB,0BAA0B,CAAC,KAAK,CAAC;MACjClB,YAAY,CAACyC,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvB,MAAM,EAAE1B,iBAAiB,CAAC,CAAC;EAE/Bb,SAAS,CAAC,MAAM;IACd,MAAM+F,qBAAqB,GAAG,YAAY;MACxC,IAAIlF,iBAAiB,IAAIA,iBAAiB,aAAjBA,iBAAiB,eAAjBA,iBAAiB,CAAEsE,MAAM,EAAE;QAClD,MAAMa,iBAAiB,GACrBvF,eAAe,GACd,wCAAuC8B,MAAO,kBAAiB;QAClE,MAAM0D,4BAA4B,GAAG;UACnCX,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE7E,UAAU;QACrB,CAAC;QACD,MAAMwF,sBAAsB,GAAG,MAAMnD,KAAK,CACxCiD,iBAAiB,EACjBC,4BAA4B,CAC7B;QACD,IAAI,CAACC,sBAAsB,CAAClD,EAAE,EAAE;UAC9B,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;QACzC;QACA,MAAMkD,0BAA0B,GAAG,MAAMD,sBAAsB,CAAC/C,IAAI,EAAE;QACtEvB,eAAe,CAACuE,0BAA0B,CAACjC,OAAO,CAAC;MACrD;MACApC,sBAAsB,CAAC,KAAK,CAAC;IAC/B,CAAC;IACDiE,qBAAqB,EAAE,CAACnC,KAAK,CAAEC,KAAU,IAAK;MAC5C/B,sBAAsB,CAAC,KAAK,CAAC;MAC7BV,YAAY,CAACyC,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvB,MAAM,EAAE1B,iBAAiB,CAAC,CAAC;EAE/B,IACEI,SAAS,IACTQ,eAAe,IACfQ,0BAA0B,IAC1BI,uBAAuB,IACvBR,mBAAmB,EACnB;IACA,oBAAO,QAAC,cAAc;MAAA;MAAA;MAAA;IAAA,QAAG;EAC3B;EAEA,IAAIV,SAAS,EAAE;IACb,oBACE;MAAK,SAAS,EAAC,eAAe;MAAA,uBAC5B;QAAA,UAAIA;MAAS;QAAA;QAAA;QAAA;MAAA;IAAK;MAAA;MAAA;MAAA;IAAA,QACd;EAEV;EAEA,eAAeiF,YAAY,GAAG;IAC5B,MAAMT,mBAAmB,GACvBnF,iBAAiB,GAAI,gCAA+B+B,MAAO,EAAC;IAC9D,MAAMqD,8BAA8B,GAAG;MACrCN,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE7E,UAAU;IACrB,CAAC;IAED,MAAMmF,wBAAwB,GAAG,MAAM9C,KAAK,CAC1C4C,mBAAmB,EACnBC,8BAA8B,CAC/B;IAED,IAAI,CAACC,wBAAwB,CAAC7C,EAAE,EAAE;MAChC,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IACzC;IACAb,eAAe,CAAC,IAAI,CAAC;EACvB;EAEA,eAAeiE,gBAAgB,CAC7BC,SAAiB,EACjB3B,iBAAyB,EACzB;IACA,IAAIpC,MAAc,GAAG,CAAC;IACtB,IAAIxB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEwB,MAAM,EAAE;MAChBA,MAAM,GAAGxB,IAAI,CAACwB,MAAM;IACtB;IAEA,MAAMgE,kBAAkB,GAAG,IAAIjG,aAAa,CAC1CgG,SAAS,EACT/D,MAAM,EACNoC,iBAAiB,CAClB;IACD,MAAM6B,aAAa,GAAG/F,eAAe,GAAI,cAAa;IACtD,MAAMgG,wBAAwB,GAAG;MAC/BnB,MAAM,EAAE,MAAM;MACdoB,MAAM,EAAEhG,UAAU,EAAE;MACpBiG,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,kBAAkB;IACzC,CAAC;IACD,MAAMO,wBAAwB,GAAG,MAAM/D,KAAK,CAC1CyD,aAAa,EACbC,wBAAwB,CACzB;IACD,IAAI,CAACK,wBAAwB,CAAC9D,EAAE,EAAE;MAChC,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IACzC;IACArB,eAAe,CAAC,IAAI,CAAC;EACvB;EAEA,oBACE;IAAA,wBACE;MAAK,SAAS,EAAC,6BAA6B;MAAA,wBAC1C;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAK,SAAS,EAAC,mBAAmB;UAAA,UAC/Bb,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAE4C,SAAS,gBACd;YAAK,GAAG,EAAE5C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4C,SAAU;YAAC,KAAK,EAAC,KAAK;YAAC,MAAM,EAAC,KAAK;YAAC,GAAG,EAAC;UAAM;YAAA;YAAA;YAAA;UAAA,QAAG,gBAEjE;YACE,GAAG,EAAEoD,OAAO,CAAC,mDAAmD,CAAE;YAClE,KAAK,EAAC,KAAK;YACX,MAAM,EAAC,KAAK;YACZ,GAAG,EAAC;UAAM;YAAA;YAAA;YAAA;UAAA;QAEb;UAAA;UAAA;UAAA;QAAA,QACG,eACN;UAAK,SAAS,EAAC,0BAA0B;UAAA,uBACvC;YAAK,SAAS,EAAC,MAAM;YAAA,wBACnB;cAAA,UAAKhG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC;YAAS;cAAA;cAAA;cAAA;YAAA,QAAM,eAC1B;cAAI,SAAS,EAAC,cAAc;cAAA,UAAEtC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAM,eACpD;cAAG,SAAS,EAAC,MAAM;cAAA,UAAEvC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwC;YAAe;cAAA;cAAA;cAAA;YAAA,QAAK,eAC/C,QAAC,WAAW;cAAC,MAAM,EAAEhC,UAAW;cAAC,IAAI,EAAE;YAAG;cAAA;cAAA;cAAA;YAAA,QAAG;UAAA;YAAA;YAAA;YAAA;UAAA;QACzC;UAAA;UAAA;UAAA;QAAA,QACF,eACN,QAAC,oBAAoB;UACnB,IAAI,EAAER,IAAK;UACX,MAAM,EAAE,KAAM;UACd,iBAAiB,EAAEgB,iBAAkB;UACrC,eAAe,EAAElB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEsE,MAAO;UAC3C,gBAAgB,EAAEhD,YAAa;UAC/B,YAAY,EAAEiE,YAAa;UAC3B,gBAAgB,EAAEzE,YAAa;UAC/B,gBAAgB,EAAE0E;QAAiB;UAAA;UAAA;UAAA;QAAA,QACnC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAA;QAAA;QAAA;MAAA,QAAM,eACN,QAAC,aAAa;QACZ,iBAAiB,EAAEhF,OAAQ;QAC3B,MAAM,EAAEN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwB,MAAO;QACrB,MAAM,EAAE;MAAM;QAAA;QAAA;QAAA;MAAA,QACd;IAAA;MAAA;MAAA;MAAA;IAAA,QACE,eACN;MAAK,SAAS,EAAC,0BAA0B;MAAA,wBACvC;QAAK,SAAS,EAAC,kDAAkD;QAAA,UAC9DxB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAE4C,SAAS,gBACd;UAAK,GAAG,EAAE5C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4C,SAAU;UAAC,KAAK,EAAC,KAAK;UAAC,MAAM,EAAC,KAAK;UAAC,GAAG,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA,QAAG,gBAEjE;UACE,GAAG,EAAEoD,OAAO,CAAC,mDAAmD,CAAE;UAClE,KAAK,EAAC,KAAK;UACX,MAAM,EAAC,KAAK;UACZ,GAAG,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA;MAEb;QAAA;QAAA;QAAA;MAAA,QACG,eACN;QAAK,SAAS,EAAC,MAAM;QAAA,uBACnB;UAAK,SAAS,EAAC,MAAM;UAAA,wBACnB;YAAA,UAAKhG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC;UAAS;YAAA;YAAA;YAAA;UAAA,QAAM,eAC1B;YAAI,SAAS,EAAC,cAAc;YAAA,UAAEtC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuC;UAAU;YAAA;YAAA;YAAA;UAAA,QAAM,eACpD;YAAG,SAAS,EAAC,MAAM;YAAA,UAAEvC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwC;UAAe;YAAA;YAAA;YAAA;UAAA,QAAK,eAC/C,QAAC,WAAW;YAAC,MAAM,EAAE,GAAI;YAAC,IAAI,EAAE;UAAG;YAAA;YAAA;YAAA;UAAA,QAAG;QAAA;UAAA;UAAA;UAAA;QAAA;MAClC;QAAA;QAAA;QAAA;MAAA,QACF,eACN,QAAC,oBAAoB;QACnB,IAAI,EAAExC,IAAK;QACX,MAAM,EAAE,KAAM;QACd,iBAAiB,EAAEgB,iBAAkB;QACrC,eAAe,EAAElB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEsE,MAAO;QAC3C,gBAAgB,EAAEhD,YAAa;QAC/B,YAAY,EAAEiE,YAAa;QAC3B,gBAAgB,EAAEzE,YAAa;QAC/B,gBAAgB,EAAE0E;MAAiB;QAAA;QAAA;QAAA;MAAA,QACnC,eACF;QAAA;QAAA;QAAA;MAAA,QAAM,eACN,QAAC,aAAa;QACZ,iBAAiB,EAAEhF,OAAQ;QAC3B,MAAM,EAAEN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwB,MAAO;QACrB,MAAM,EAAE;MAAK;QAAA;QAAA;QAAA;MAAA,QACb;IAAA;MAAA;MAAA;MAAA;IAAA,QACE;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GA9VW3B,gBAAgB;AAAA,KAAhBA,gBAAgB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}