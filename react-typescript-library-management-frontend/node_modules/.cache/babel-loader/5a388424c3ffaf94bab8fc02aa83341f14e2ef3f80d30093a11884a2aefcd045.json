{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nexport const AuthGuard = (children, roles) => {\n  _s();\n  const currentUser = useSelector(state => state.user);\n  const navigate = useLocation();\n  const authorize = () => {\n    if (!currentUser) {\n      return navigate(\"/login\");\n    }\n    if ((roles === null || roles === void 0 ? void 0 : roles.indexOf(currentUser.role)) === -1) {\n      return navigate(\"/login\");\n    }\n    return children;\n  };\n  return authorize();\n};\n_s(AuthGuard, \"o8MIiZKsJW5s93CK+Y6qTrEzw9c=\", false, function () {\n  return [useSelector, useLocation];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["useLocation","useSelector","AuthGuard","children","roles","currentUser","state","user","navigate","authorize","indexOf","role"],"sources":["D:/ReactProjects/react-typescript-library-management/src/auth_guard/auth.guard.ts"],"sourcesContent":["import { useLocation } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const AuthGuard = (children: any, roles: any) => {\r\n  const currentUser = useSelector((state: any) => state.user);\r\n  const navigate = useLocation();\r\n\r\n  const authorize = () => {\r\n    if (!currentUser) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    if (roles?.indexOf(currentUser.role) === -1) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    return children;\r\n  };\r\n\r\n  return authorize();\r\n};\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,aAAa;AAEzC,OAAO,MAAMC,SAAS,GAAG,CAACC,QAAa,EAAEC,KAAU,KAAK;EAAA;EACtD,MAAMC,WAAW,GAAGJ,WAAW,CAAEK,KAAU,IAAKA,KAAK,CAACC,IAAI,CAAC;EAC3D,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAE9B,MAAMS,SAAS,GAAG,MAAM;IACtB,IAAI,CAACJ,WAAW,EAAE;MAChB,OAAOG,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,IAAI,CAAAJ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,OAAO,CAACL,WAAW,CAACM,IAAI,CAAC,MAAK,CAAC,CAAC,EAAE;MAC3C,OAAOH,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,OAAOL,QAAQ;EACjB,CAAC;EAED,OAAOM,SAAS,EAAE;AACpB,CAAC;AAAC,GAjBWP,SAAS;EAAA,QACAD,WAAW,EACdD,WAAW;AAAA;AAAA,KAFjBE,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}