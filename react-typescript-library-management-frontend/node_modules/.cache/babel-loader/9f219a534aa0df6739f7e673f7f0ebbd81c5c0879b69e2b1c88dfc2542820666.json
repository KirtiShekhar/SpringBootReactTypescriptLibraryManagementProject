{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nexport const AuthGuard = (children, roles) => {\n  _s();\n  const navigate = useNavigate();\n  const currentUser = useSelector(state => state.user);\n  const authorize = () => {\n    if (!currentUser) {\n      return navigate(\"/login\");\n    }\n    if ((roles === null || roles === void 0 ? void 0 : roles.indexOf(currentUser.role)) === -1) {\n      return navigate(\"/login\");\n    }\n    return children;\n  };\n  return authorize();\n};\n_s(AuthGuard, \"h6KbzZxKIROKouduDLC0aP83/7o=\", false, function () {\n  return [useNavigate, useSelector];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["useNavigate","useSelector","AuthGuard","children","roles","navigate","currentUser","state","user","authorize","indexOf","role"],"sources":["D:/ReactProjects/react-typescript-library-management/src/auth_guard/auth.guard.ts"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport appStore from \"../redux_reducers_actions/allReducers\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const AuthGuard = (children: any, roles: any) => {\r\n  const navigate = useNavigate();\r\n  const currentUser = useSelector((state: any) => state.user);\r\n\r\n  const authorize = () => {\r\n    if (!currentUser) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    if (roles?.indexOf(currentUser.role) === -1) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    return children;\r\n  };\r\n\r\n  return authorize();\r\n};\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,WAAW,QAAQ,aAAa;AAEzC,OAAO,MAAMC,SAAS,GAAG,CAACC,QAAa,EAAEC,KAAU,KAAK;EAAA;EACtD,MAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAMM,WAAW,GAAGL,WAAW,CAAEM,KAAU,IAAKA,KAAK,CAACC,IAAI,CAAC;EAE3D,MAAMC,SAAS,GAAG,MAAM;IACtB,IAAI,CAACH,WAAW,EAAE;MAChB,OAAOD,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,IAAI,CAAAD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,OAAO,CAACJ,WAAW,CAACK,IAAI,CAAC,MAAK,CAAC,CAAC,EAAE;MAC3C,OAAON,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,OAAOF,QAAQ;EACjB,CAAC;EAED,OAAOM,SAAS,EAAE;AACpB,CAAC;AAAC,GAjBWP,SAAS;EAAA,QACHF,WAAW,EACRC,WAAW;AAAA;AAAA,KAFpBC,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}