{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactProjects\\\\react-typescript-library-management\\\\src\\\\layouts\\\\BookCheckoutPage\\\\CheckoutAndReviewBox.tsx\";\nimport { Link } from \"react-router-dom\";\nimport { LeaveAReview } from \"../Utils/LeaveAReview\";\nimport authenticationService from \"../../services/authentication.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CheckoutAndReviewBox = props => {\n  var _props$book, _props$book2;\n  const currentSignInUser = authenticationService.getCurrentUser();\n  function buttonRender() {\n    if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId) {\n      if (!props.isBookCheckedOut && props.currentLoansCount < 5) {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => props.checkOutBook(),\n          className: \"btn btn-success btn-lg\",\n          children: \"CheckOut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this);\n      } else if (props.isBookCheckedOut) {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Book Checked Out. Enjoy!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this);\n      } else if (!props.isBookCheckedOut) {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Too Many Books Checked Out.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"btn btn-success btn-lg\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  }\n  function reviewRender() {\n    if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId && !props.isUserReviewLeft) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(LeaveAReview, {\n          submitReview: props.submitBookReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this);\n    } else if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId && props.isUserReviewLeft) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Thank you for your review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sign In to be able to leave a review.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.mobile ? \"card d-flex mt-5\" : \"card col-3 container d-flex mb-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [props.currentLoansCount, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), \"Books Checked Out\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), props.book && props.book.copiesAvailable && props.book.copiesAvailable > 0 ? /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-success\",\n          children: \"Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-danger\",\n          children: \"Wait List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"col-6 lead\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [(_props$book = props.book) === null || _props$book === void 0 ? void 0 : _props$book.copies, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), \"copies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"col-6 lead\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [(_props$book2 = props.book) === null || _props$book2 === void 0 ? void 0 : _props$book2.copiesAvailable, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), \"available\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), buttonRender(), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        children: \"This number can change until placing order has been complete.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), reviewRender()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_c = CheckoutAndReviewBox;\nvar _c;\n$RefreshReg$(_c, \"CheckoutAndReviewBox\");","map":{"version":3,"names":["Link","LeaveAReview","authenticationService","CheckoutAndReviewBox","props","currentSignInUser","getCurrentUser","buttonRender","userId","isBookCheckedOut","currentLoansCount","checkOutBook","reviewRender","isUserReviewLeft","submitBookReview","mobile","book","copiesAvailable","copies"],"sources":["D:/ReactProjects/react-typescript-library-management/src/layouts/BookCheckoutPage/CheckoutAndReviewBox.tsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport Books from \"../../models/booksEntity\";\r\nimport { LeaveAReview } from \"../Utils/LeaveAReview\";\r\nimport authenticationService from \"../../services/authentication.service\";\r\n\r\nexport const CheckoutAndReviewBox: React.FC<{\r\n  book: Books | undefined;\r\n  mobile: boolean;\r\n  currentLoansCount: number;\r\n  isBookCheckedOut: boolean;\r\n  checkOutBook: any;\r\n  isUserReviewLeft: boolean;\r\n  submitBookReview: any;\r\n}> = (props) => {\r\n  const currentSignInUser = authenticationService.getCurrentUser();\r\n\r\n  function buttonRender() {\r\n    if (currentSignInUser && currentSignInUser?.userId) {\r\n      if (!props.isBookCheckedOut && props.currentLoansCount < 5) {\r\n        return (\r\n          <button\r\n            onClick={() => props.checkOutBook()}\r\n            className=\"btn btn-success btn-lg\"\r\n          >\r\n            CheckOut\r\n          </button>\r\n        );\r\n      } else if (props.isBookCheckedOut) {\r\n        return (\r\n          <p>\r\n            <b>Book Checked Out. Enjoy!</b>\r\n          </p>\r\n        );\r\n      } else if (!props.isBookCheckedOut) {\r\n        return (\r\n          <p className=\"text-danger\">\r\n            <b>Too Many Books Checked Out.</b>\r\n          </p>\r\n        );\r\n      } else {\r\n        return (\r\n          <Link to={\"/login\"} className=\"btn btn-success btn-lg\">\r\n            Sign In\r\n          </Link>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  function reviewRender() {\r\n    if (\r\n      currentSignInUser &&\r\n      currentSignInUser?.userId &&\r\n      !props.isUserReviewLeft\r\n    ) {\r\n      return (\r\n        <p>\r\n          <LeaveAReview submitReview={props.submitBookReview} />\r\n        </p>\r\n      );\r\n    } else if (\r\n      currentSignInUser &&\r\n      currentSignInUser?.userId &&\r\n      props.isUserReviewLeft\r\n    ) {\r\n      return (\r\n        <p>\r\n          <b>Thank you for your review</b>\r\n        </p>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <hr />\r\n          <p>Sign In to be able to leave a review.</p>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        props.mobile ? \"card d-flex mt-5\" : \"card col-3 container d-flex mb-5\"\r\n      }\r\n    >\r\n      <div className=\"card-body container\">\r\n        <div className=\"mt-3\">\r\n          <p>\r\n            <b>{props.currentLoansCount}/5</b>\r\n            Books Checked Out\r\n          </p>\r\n          <hr />\r\n          {props.book &&\r\n          props.book.copiesAvailable &&\r\n          props.book.copiesAvailable > 0 ? (\r\n            <h4 className=\"text-success\">Available</h4>\r\n          ) : (\r\n            <h4 className=\"text-danger\">Wait List</h4>\r\n          )}\r\n          <div className=\"row\">\r\n            <p className=\"col-6 lead\">\r\n              <b>{props.book?.copies} </b>\r\n              copies\r\n            </p>\r\n            <p className=\"col-6 lead\">\r\n              <b>{props.book?.copiesAvailable} </b>\r\n              available\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {buttonRender()}\r\n        <hr />\r\n        <p className=\"mt-3\">\r\n          This number can change until placing order has been complete.\r\n        </p>\r\n        {reviewRender()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}