{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport appStore from \"../redux_reducers_actions/allReducers\";\nexport const AuthGuard = (children, roles) => {\n  _s();\n  const navigate = useNavigate();\n  const currentUser = appStore.getState().user;\n  const authorize = () => {\n    if (!currentUser) {\n      return navigate(\"/login\");\n    }\n    if ((roles === null || roles === void 0 ? void 0 : roles.indexOf(currentUser.role)) === -1) {\n      return navigate(\"/login\");\n    }\n    return children;\n  };\n  return authorize();\n};\n_s(AuthGuard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["useNavigate","appStore","AuthGuard","children","roles","navigate","currentUser","getState","user","authorize","indexOf","role"],"sources":["D:/ReactProjects/react-typescript-library-management/src/auth_guard/auth.guard.ts"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport appStore from \"../redux_reducers_actions/allReducers\";\r\n\r\nexport const AuthGuard = (children: any, roles: any) => {\r\n  const navigate = useNavigate();\r\n  const currentUser = appStore.getState().user;\r\n\r\n  const authorize = () => {\r\n    if (!currentUser) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    if (roles?.indexOf(currentUser.role) === -1) {\r\n      return navigate(\"/login\");\r\n    }\r\n\r\n    return children;\r\n  };\r\n\r\n  return authorize();\r\n};\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,uCAAuC;AAE5D,OAAO,MAAMC,SAAS,GAAG,CAACC,QAAa,EAAEC,KAAU,KAAK;EAAA;EACtD,MAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAMM,WAAW,GAAGL,QAAQ,CAACM,QAAQ,EAAE,CAACC,IAAI;EAE5C,MAAMC,SAAS,GAAG,MAAM;IACtB,IAAI,CAACH,WAAW,EAAE;MAChB,OAAOD,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,IAAI,CAAAD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,OAAO,CAACJ,WAAW,CAACK,IAAI,CAAC,MAAK,CAAC,CAAC,EAAE;MAC3C,OAAON,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,OAAOF,QAAQ;EACjB,CAAC;EAED,OAAOM,SAAS,EAAE;AACpB,CAAC;AAAC,GAjBWP,SAAS;EAAA,QACHF,WAAW;AAAA;AAAA,KADjBE,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}