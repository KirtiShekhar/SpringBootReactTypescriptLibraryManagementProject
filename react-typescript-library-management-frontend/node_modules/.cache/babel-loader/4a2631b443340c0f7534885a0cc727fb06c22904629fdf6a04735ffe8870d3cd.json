{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactProjects\\\\react-typescript-library-management\\\\src\\\\layouts\\\\ShelfPage\\\\components\\\\Loans.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { SpinnerLoading } from \"../../Utils/SpinnerLoading\";\nimport { Link } from \"react-router-dom\";\nimport { LoansModal } from \"./LoansModal\";\nimport { AuthHeader } from \"../../../services/base.service\";\nimport { CHECKOUT_BASE_URL } from \"../../../commons/constants\";\nimport authenticationService from \"../../../services/authentication.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Loans = () => {\n  _s();\n  //auth and error\n  const currentSignInUser = authenticationService.getCurrentUser();\n  const [httpError, setHttpError] = useState(null);\n\n  // Current Loans\n  const [shelfCurrentLoans, setShelfCurrentLoans] = useState([]);\n  const [isLoadingUserLoans, setIsLoadingUserLoans] = useState(true);\n  const [checkOut, setCheckOut] = useState(false);\n  useEffect(() => {\n    const fetchUserCurrentLoans = async () => {\n      if (currentSignInUser && currentSignInUser !== null && currentSignInUser !== void 0 && currentSignInUser.userId) {\n        const userCurrentLoansUrl = CHECKOUT_BASE_URL + `service/currentLoans`;\n        const requestUserCurrentLoansOptions = {\n          method: \"GET\",\n          headers: AuthHeader()\n        };\n        const userShelfCurrentLoansResponse = await fetch(userCurrentLoansUrl, requestUserCurrentLoansOptions);\n        if (!userShelfCurrentLoansResponse.ok) {\n          throw new Error(\"Something went wrong!\");\n        }\n        const userShelfCurrentLoansResponseJson = await userShelfCurrentLoansResponse.json();\n        setShelfCurrentLoans(userShelfCurrentLoansResponseJson);\n      }\n      setIsLoadingUserLoans(false);\n    };\n    fetchUserCurrentLoans().catch(error => {\n      setIsLoadingUserLoans(false);\n      setHttpError(error.message);\n    });\n    window.scrollTo(0, 0);\n  }, [checkOut, currentSignInUser]);\n  if (isLoadingUserLoans) {\n    return /*#__PURE__*/_jsxDEV(SpinnerLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n  if (httpError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container m-5\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: httpError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  async function returnBook(bookId) {\n    const checkedOutBookReturnUrl = ``;\n    const requestCheckedOutBookReturnOptions = {\n      method: \"PUT\",\n      headers: {\n        Authorization: ``,\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const checkedOutBookReturnResponse = await fetch(checkedOutBookReturnUrl, requestCheckedOutBookReturnOptions);\n    if (!checkedOutBookReturnResponse.ok) {\n      throw new Error(\"Something went wrong!\");\n    }\n    setCheckOut(!checkOut);\n  }\n  async function renewLoan(bookId) {\n    const renewLoanUrl = ``;\n    const requestRenewLoanOptions = {\n      method: \"PUT\",\n      headers: {\n        Authorization: ``,\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const renewLoanResponse = await fetch(renewLoanUrl, requestRenewLoanOptions);\n    if (!renewLoanResponse.ok) {\n      throw new Error(\"Something went wrong!\");\n    }\n    setCheckOut(!checkOut);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-none d-lg-block mt-2\",\n      children: shelfCurrentLoans.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Current Loans: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), shelfCurrentLoans.map(shelfCurrentLoan => {\n          var _shelfCurrentLoan$boo, _shelfCurrentLoan$boo2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4 col-md-4 container\",\n                children: (_shelfCurrentLoan$boo = shelfCurrentLoan.book) !== null && _shelfCurrentLoan$boo !== void 0 && _shelfCurrentLoan$boo.bookImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: (_shelfCurrentLoan$boo2 = shelfCurrentLoan.book) === null || _shelfCurrentLoan$boo2 === void 0 ? void 0 : _shelfCurrentLoan$boo2.bookImage,\n                  width: \"226\",\n                  height: \"349\",\n                  alt: \"Book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: require(\"./../../../Images/BooksImages/book-luv2code-1000.png\"),\n                  width: \"226\",\n                  height: \"349\",\n                  alt: \"Book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card col-3 col-md-3 container d-flex\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Loan Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 25\n                    }, this), shelfCurrentLoan.daysLeft > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-secondary\",\n                      children: [\"Due in \", shelfCurrentLoan.daysLeft, \" days.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 27\n                    }, this), shelfCurrentLoan.daysLeft === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-success\",\n                      children: \"Due Today.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 27\n                    }, this), shelfCurrentLoan.daysLeft < 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-danger\",\n                      children: [\"Past due by \", shelfCurrentLoan.daysLeft, \" days.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"list-group mt-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"list-group-item list-group-item-action\",\n                        \"aria-current\": \"true\",\n                        \"data-bs-toggle\": \"modal\",\n                        \"data-bs-target\": `#modal${shelfCurrentLoan.book.bookId}`,\n                        children: \"Manage Loan\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"search\",\n                        className: \"list-group-item list-group-item-action\",\n                        children: \"Search more books?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-3\",\n                    children: \"Help other find their adventure by reviewing your loan.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"btn btn-primary\",\n                    to: `/checkout/${shelfCurrentLoan.book.bookId}`,\n                    children: \"Leave a review\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LoansModal, {\n              shelfCurrentLoan: shelfCurrentLoan,\n              mobile: false,\n              returnBook: returnBook,\n              renewLoan: renewLoan\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, shelfCurrentLoan.book.bookId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-3\",\n          children: \"Currently no loans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-primary\",\n          to: `search`,\n          children: \"Search for a new book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-lg-none mt-2\",\n      children: shelfCurrentLoans.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3\",\n          children: \"Current Loans: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), shelfCurrentLoans.map(shelfCurrentLoan => {\n          var _shelfCurrentLoan$boo3, _shelfCurrentLoan$boo4;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center align-items-center\",\n              children: (_shelfCurrentLoan$boo3 = shelfCurrentLoan.book) !== null && _shelfCurrentLoan$boo3 !== void 0 && _shelfCurrentLoan$boo3.bookImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: (_shelfCurrentLoan$boo4 = shelfCurrentLoan.book) === null || _shelfCurrentLoan$boo4 === void 0 ? void 0 : _shelfCurrentLoan$boo4.bookImage,\n                width: \"226\",\n                height: \"349\",\n                alt: \"Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(\"./../../../Images/BooksImages/book-luv2code-1000.png\"),\n                width: \"226\",\n                height: \"349\",\n                alt: \"Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card d-flex mt-5 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Loan Options\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this), shelfCurrentLoan.daysLeft > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-secondary\",\n                    children: [\"Due in \", shelfCurrentLoan.daysLeft, \" days.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 25\n                  }, this), shelfCurrentLoan.daysLeft === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-success\",\n                    children: \"Due Today.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this), shelfCurrentLoan.daysLeft < 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: [\"Past due by \", shelfCurrentLoan.daysLeft, \" days.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"list-group mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"list-group-item list-group-item-action\",\n                      \"aria-current\": \"true\",\n                      \"data-bs-toggle\": \"modal\",\n                      \"data-bs-target\": `#mobilemodal${shelfCurrentLoan.book.bookId}`,\n                      children: \"Manage Loan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"search\",\n                      className: \"list-group-item list-group-item-action\",\n                      children: \"Search more books?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-3\",\n                  children: \"Help other find their adventure by reviewing your loan.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"btn btn-primary\",\n                  to: `/checkout/${shelfCurrentLoan.book.bookId}`,\n                  children: \"Leave a review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LoansModal, {\n              shelfCurrentLoan: shelfCurrentLoan,\n              mobile: true,\n              returnBook: returnBook,\n              renewLoan: renewLoan\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, shelfCurrentLoan.book.bookId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-3\",\n          children: \"Currently no loans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-primary\",\n          to: `search`,\n          children: \"Search for a new book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(Loans, \"1L0v2DNwbg8wZ9YVtUCU0EifMvw=\");\n_c = Loans;\nvar _c;\n$RefreshReg$(_c, \"Loans\");","map":{"version":3,"names":["useEffect","useState","SpinnerLoading","Link","LoansModal","AuthHeader","CHECKOUT_BASE_URL","authenticationService","Loans","currentSignInUser","getCurrentUser","httpError","setHttpError","shelfCurrentLoans","setShelfCurrentLoans","isLoadingUserLoans","setIsLoadingUserLoans","checkOut","setCheckOut","fetchUserCurrentLoans","userId","userCurrentLoansUrl","requestUserCurrentLoansOptions","method","headers","userShelfCurrentLoansResponse","fetch","ok","Error","userShelfCurrentLoansResponseJson","json","catch","error","message","window","scrollTo","returnBook","bookId","checkedOutBookReturnUrl","requestCheckedOutBookReturnOptions","Authorization","checkedOutBookReturnResponse","renewLoan","renewLoanUrl","requestRenewLoanOptions","renewLoanResponse","length","map","shelfCurrentLoan","book","bookImage","require","daysLeft"],"sources":["D:/ReactProjects/react-typescript-library-management/src/layouts/ShelfPage/components/Loans.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ShelfCurrentLoans from \"../../../models/shelfCurrentLoans\";\r\nimport { SpinnerLoading } from \"../../Utils/SpinnerLoading\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { LoansModal } from \"./LoansModal\";\r\nimport { AuthHeader } from \"../../../services/base.service\";\r\nimport { CHECKOUT_BASE_URL } from \"../../../commons/constants\";\r\nimport { useSelector } from \"react-redux\";\r\nimport authenticationService from \"../../../services/authentication.service\";\r\n\r\nexport const Loans = () => {\r\n  //auth and error\r\n  const currentSignInUser = authenticationService.getCurrentUser();\r\n  const [httpError, setHttpError] = useState(null);\r\n\r\n  // Current Loans\r\n  const [shelfCurrentLoans, setShelfCurrentLoans] = useState<\r\n    ShelfCurrentLoans[]\r\n  >([]);\r\n  const [isLoadingUserLoans, setIsLoadingUserLoans] = useState(true);\r\n  const [checkOut, setCheckOut] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchUserCurrentLoans = async () => {\r\n      if (currentSignInUser && currentSignInUser?.userId) {\r\n        const userCurrentLoansUrl = CHECKOUT_BASE_URL + `service/currentLoans`;\r\n        const requestUserCurrentLoansOptions = {\r\n          method: \"GET\",\r\n          headers: AuthHeader(),\r\n        };\r\n        const userShelfCurrentLoansResponse = await fetch(\r\n          userCurrentLoansUrl,\r\n          requestUserCurrentLoansOptions\r\n        );\r\n\r\n        if (!userShelfCurrentLoansResponse.ok) {\r\n          throw new Error(\"Something went wrong!\");\r\n        }\r\n\r\n        const userShelfCurrentLoansResponseJson =\r\n          await userShelfCurrentLoansResponse.json();\r\n        setShelfCurrentLoans(userShelfCurrentLoansResponseJson);\r\n      }\r\n      setIsLoadingUserLoans(false);\r\n    };\r\n    fetchUserCurrentLoans().catch((error: any) => {\r\n      setIsLoadingUserLoans(false);\r\n      setHttpError(error.message);\r\n    });\r\n    window.scrollTo(0, 0);\r\n  }, [checkOut, currentSignInUser]);\r\n\r\n  if (isLoadingUserLoans) {\r\n    return <SpinnerLoading />;\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <div className=\"container m-5\">\r\n        <p>{httpError}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async function returnBook(bookId: number) {\r\n    const checkedOutBookReturnUrl = ``;\r\n    const requestCheckedOutBookReturnOptions = {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Authorization: ``,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const checkedOutBookReturnResponse = await fetch(\r\n      checkedOutBookReturnUrl,\r\n      requestCheckedOutBookReturnOptions\r\n    );\r\n\r\n    if (!checkedOutBookReturnResponse.ok) {\r\n      throw new Error(\"Something went wrong!\");\r\n    }\r\n\r\n    setCheckOut(!checkOut);\r\n  }\r\n\r\n  async function renewLoan(bookId: number) {\r\n    const renewLoanUrl = ``;\r\n    const requestRenewLoanOptions = {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Authorization: ``,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const renewLoanResponse = await fetch(\r\n      renewLoanUrl,\r\n      requestRenewLoanOptions\r\n    );\r\n\r\n    if (!renewLoanResponse.ok) {\r\n      throw new Error(\"Something went wrong!\");\r\n    }\r\n\r\n    setCheckOut(!checkOut);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Desktop */}\r\n      <div className=\"d-none d-lg-block mt-2\">\r\n        {shelfCurrentLoans.length > 0 ? (\r\n          <>\r\n            <h5>Current Loans: </h5>\r\n\r\n            {shelfCurrentLoans.map((shelfCurrentLoan) => (\r\n              <div key={shelfCurrentLoan.book.bookId}>\r\n                <div className=\"row mt-3 mb-3\">\r\n                  <div className=\"col-4 col-md-4 container\">\r\n                    {shelfCurrentLoan.book?.bookImage ? (\r\n                      <img\r\n                        src={shelfCurrentLoan.book?.bookImage}\r\n                        width=\"226\"\r\n                        height=\"349\"\r\n                        alt=\"Book\"\r\n                      />\r\n                    ) : (\r\n                      <img\r\n                        src={require(\"./../../../Images/BooksImages/book-luv2code-1000.png\")}\r\n                        width=\"226\"\r\n                        height=\"349\"\r\n                        alt=\"Book\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"card col-3 col-md-3 container d-flex\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"mt-3\">\r\n                        <h4>Loan Options</h4>\r\n                        {shelfCurrentLoan.daysLeft > 0 && (\r\n                          <p className=\"text-secondary\">\r\n                            Due in {shelfCurrentLoan.daysLeft} days.\r\n                          </p>\r\n                        )}\r\n                        {shelfCurrentLoan.daysLeft === 0 && (\r\n                          <p className=\"text-success\">Due Today.</p>\r\n                        )}\r\n                        {shelfCurrentLoan.daysLeft < 0 && (\r\n                          <p className=\"text-danger\">\r\n                            Past due by {shelfCurrentLoan.daysLeft} days.\r\n                          </p>\r\n                        )}\r\n                        <div className=\"list-group mt-3\">\r\n                          <button\r\n                            className=\"list-group-item list-group-item-action\"\r\n                            aria-current=\"true\"\r\n                            data-bs-toggle=\"modal\"\r\n                            data-bs-target={`#modal${shelfCurrentLoan.book.bookId}`}\r\n                          >\r\n                            Manage Loan\r\n                          </button>\r\n                          <Link\r\n                            to={\"search\"}\r\n                            className=\"list-group-item list-group-item-action\"\r\n                          >\r\n                            Search more books?\r\n                          </Link>\r\n                        </div>\r\n                      </div>\r\n                      <hr />\r\n                      <p className=\"mt-3\">\r\n                        Help other find their adventure by reviewing your loan.\r\n                      </p>\r\n                      <Link\r\n                        className=\"btn btn-primary\"\r\n                        to={`/checkout/${shelfCurrentLoan.book.bookId}`}\r\n                      >\r\n                        Leave a review\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <LoansModal\r\n                  shelfCurrentLoan={shelfCurrentLoan}\r\n                  mobile={false}\r\n                  returnBook={returnBook}\r\n                  renewLoan={renewLoan}\r\n                />\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <>\r\n            <h3 className=\"mt-3\">Currently no loans</h3>\r\n            <Link className=\"btn btn-primary\" to={`search`}>\r\n              Search for a new book\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mobile */}\r\n      <div className=\"container d-lg-none mt-2\">\r\n        {shelfCurrentLoans.length > 0 ? (\r\n          <>\r\n            <h5 className=\"mb-3\">Current Loans: </h5>\r\n\r\n            {shelfCurrentLoans.map((shelfCurrentLoan) => (\r\n              <div key={shelfCurrentLoan.book.bookId}>\r\n                <div className=\"d-flex justify-content-center align-items-center\">\r\n                  {shelfCurrentLoan.book?.bookImage ? (\r\n                    <img\r\n                      src={shelfCurrentLoan.book?.bookImage}\r\n                      width=\"226\"\r\n                      height=\"349\"\r\n                      alt=\"Book\"\r\n                    />\r\n                  ) : (\r\n                    <img\r\n                      src={require(\"./../../../Images/BooksImages/book-luv2code-1000.png\")}\r\n                      width=\"226\"\r\n                      height=\"349\"\r\n                      alt=\"Book\"\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"card d-flex mt-5 mb-3\">\r\n                  <div className=\"card-body container\">\r\n                    <div className=\"mt-3\">\r\n                      <h4>Loan Options</h4>\r\n                      {shelfCurrentLoan.daysLeft > 0 && (\r\n                        <p className=\"text-secondary\">\r\n                          Due in {shelfCurrentLoan.daysLeft} days.\r\n                        </p>\r\n                      )}\r\n                      {shelfCurrentLoan.daysLeft === 0 && (\r\n                        <p className=\"text-success\">Due Today.</p>\r\n                      )}\r\n                      {shelfCurrentLoan.daysLeft < 0 && (\r\n                        <p className=\"text-danger\">\r\n                          Past due by {shelfCurrentLoan.daysLeft} days.\r\n                        </p>\r\n                      )}\r\n                      <div className=\"list-group mt-3\">\r\n                        <button\r\n                          className=\"list-group-item list-group-item-action\"\r\n                          aria-current=\"true\"\r\n                          data-bs-toggle=\"modal\"\r\n                          data-bs-target={`#mobilemodal${shelfCurrentLoan.book.bookId}`}\r\n                        >\r\n                          Manage Loan\r\n                        </button>\r\n                        <Link\r\n                          to={\"search\"}\r\n                          className=\"list-group-item list-group-item-action\"\r\n                        >\r\n                          Search more books?\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n                    <p className=\"mt-3\">\r\n                      Help other find their adventure by reviewing your loan.\r\n                    </p>\r\n                    <Link\r\n                      className=\"btn btn-primary\"\r\n                      to={`/checkout/${shelfCurrentLoan.book.bookId}`}\r\n                    >\r\n                      Leave a review\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr />\r\n                <LoansModal\r\n                  shelfCurrentLoan={shelfCurrentLoan}\r\n                  mobile={true}\r\n                  returnBook={returnBook}\r\n                  renewLoan={renewLoan}\r\n                />\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <>\r\n            <h3 className=\"mt-3\">Currently no loans</h3>\r\n            <Link className=\"btn btn-primary\" to={`search`}>\r\n              Search for a new book\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}