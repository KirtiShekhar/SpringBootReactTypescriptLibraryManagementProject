{"ast":null,"code":"var _s = $RefreshSig$();\nimport authenticationService from \"../services/authentication.service\";\nimport { useLocation } from \"react-router-dom\";\nexport const AuthGuard = (children, roles) => {\n  _s();\n  const currentUser = authenticationService.getCurrentUser();\n  const location = useLocation();\n  const authorize = () => {\n    if (!currentUser) {\n      return location(\"/login\");\n    }\n    if ((roles === null || roles === void 0 ? void 0 : roles.indexOf(currentUser.role)) === -1) {\n      return location(\"/login\");\n    }\n    return children;\n  };\n  return authorize();\n};\n_s(AuthGuard, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["authenticationService","useLocation","AuthGuard","children","roles","currentUser","getCurrentUser","location","authorize","indexOf","role"],"sources":["D:/ReactProjects/react-typescript-library-management/src/auth_guard/auth.guard.tsx"],"sourcesContent":["import authenticationService from \"../services/authentication.service\";\r\nimport Role from \"../models/role\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const AuthGuard = (children: any, roles: Role) => {\r\n  const currentUser = authenticationService.getCurrentUser();\r\n  const location = useLocation();\r\n\r\n  const authorize = () => {\r\n    if (!currentUser) {\r\n      return location(\"/login\");\r\n    }\r\n\r\n    if (roles?.indexOf(currentUser.role) === -1) {\r\n      return location(\"/login\");\r\n    }\r\n    return children;\r\n  };\r\n\r\n  return authorize();\r\n};\r\n"],"mappings":";AAAA,OAAOA,qBAAqB,MAAM,oCAAoC;AAEtE,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,SAAS,GAAG,CAACC,QAAa,EAAEC,KAAW,KAAK;EAAA;EACvD,MAAMC,WAAW,GAAGL,qBAAqB,CAACM,cAAc,EAAE;EAC1D,MAAMC,QAAQ,GAAGN,WAAW,EAAE;EAE9B,MAAMO,SAAS,GAAG,MAAM;IACtB,IAAI,CAACH,WAAW,EAAE;MAChB,OAAOE,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IAEA,IAAI,CAAAH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEK,OAAO,CAACJ,WAAW,CAACK,IAAI,CAAC,MAAK,CAAC,CAAC,EAAE;MAC3C,OAAOH,QAAQ,CAAC,QAAQ,CAAC;IAC3B;IACA,OAAOJ,QAAQ;EACjB,CAAC;EAED,OAAOK,SAAS,EAAE;AACpB,CAAC;AAAC,GAhBWN,SAAS;EAAA,QAEHD,WAAW;AAAA;AAAA,KAFjBC,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}